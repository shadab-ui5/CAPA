<mvc:View controllerName="hodek.capa.controller.ProblemDefinition"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns:m="sap.m"
    xmlns:sf="sap.ui.layout.form"
    xmlns:un="sap.ui.unified"
    xmlns="sap.uxap">
    <m:Page id="page2" title="{i18n>title}" class="ICTBCustom" showHeader="true" navButtonPress="onNavBack" floatingFooter="true" enableScrolling="false">
        <ObjectPageLayout id="ObjectPageLayout" class="sapUiNoContentPadding" upperCaseAnchorBar="false">
            <headerTitle>
                <ObjectPageHeader id="_IDGenObjectPageHeader" objectTitle="8D - PROBLEM RESOLUTION REPORT" objectImageURI="/images/GlobalActionBar.jpg" objectImageShape="Square" objectImageAlt="Company Logo" showTitleSelector="false" showMarkers="false" isObjectIconAlwaysVisible="true">
                    <actions>
                        <m:VBox id="_IDGenVBox1">
                            <m:Text id="_IDGenText" text="Invoice: {selectedModel>/InvoiceNumber}" />
                            <m:Text id="_IDGenText1" text="Material: {selectedModel>/Product}" />
                            <m:Text id="_IDGenText2" text="Supplier: {selectedModel>/VendorName}({selectedModel>/Vendor})"/>
                        </m:VBox>
                    </actions>
                </ObjectPageHeader>
            </headerTitle>
            <sections>

                <!-- ================= Problem Definition ================= -->
                <ObjectPageSection id="problemDefinitionSection" title="Problem Definition" showTitle="true">
                    <subSections>
                        <ObjectPageSubSection id="problemDefinition" title="1. Definition" showTitle="true">
                            <blocks>
                                <sf:SimpleForm id="formProblemDefinition" editable="true" layout="ResponsiveGridLayout" labelSpanM="3" labelSpanL="2" adjustLabelSpan="false" emptySpanM="1" emptySpanL="1">

                                    <!-- Attachments Section -->
                                    <m:Label id="_IDGenLabel23" text="Attachments" />
                                    <m:VBox id="_IDGenVBox19">
                                    <m:RadioButtonGroup id="rbgAttachments" columns="5" selectedIndex="{capaModel>/attachments/selectedIndex}">
                                            <m:buttons>
                                                <m:RadioButton id="_IDGenRadioButton1" text="Photo / Sketch" />
                                                <m:RadioButton id="_IDGenRadioButton2" text="Trend Chart" />
                                                <m:RadioButton id="_IDGenRadioButton3" text="Pareto Analysis" />
                                                <m:RadioButton id="_IDGenRadioButton4" text="Control Chart" />
                                                <m:RadioButton id="_IDGenRadioButton5" text="Warranty Data" />
                                            </m:buttons>

                                        </m:RadioButtonGroup>
                                    </m:VBox>

                                    <!-- File Upload for selected option -->
                                    <m:Label id="_IDGenLabel37" text="Upload File" />
                                    <m:VBox id="_IDGenVBox18">
                                        <m:HBox id="_IDGenHBox12" justifyContent="Start">
                                            <un:FileUploader id="idFileUploader" name="file" width="300px" placeholder="Choose a file..." sendXHR="true" useMultipart="false" />
                                            <m:Button id="_IDGenButton25" type="Emphasized" class="sapUiTinyMarginBegin" text="Upload" press="onUploadFile" />
                                        </m:HBox>
                                    </m:VBox>


                                </sf:SimpleForm>
                            </blocks>
                        </ObjectPageSubSection>
                        <ObjectPageSubSection id="problemDescription" title="2. Description" showTitle="true">
                            <blocks>
                                <sf:SimpleForm id="formProblemDescription" editable="true" layout="ResponsiveGridLayout" labelSpanM="3" labelSpanL="2" adjustLabelSpan="false" emptySpanM="1" emptySpanL="1">

                                    <!-- Symptoms of Failure -->
                                    <m:Label id="_IDGenLabel25" text="What are the symptoms of the failure? (details of failure)" />
                                    <m:Input id="_IDGenInput19" value="{capaModel>/details_failure}" width="100%" placeholder="Enter details of failure" />

                                    <!-- Impact of Failure -->
                                    <m:Label id="_IDGenLabel26" text="What product feature or process had the failure? (Impact of failure)" />
                                    <m:Input id="_IDGenInput20" value="{capaModel>/impact_failure}" width="100%" placeholder="Enter impact of failure" />

                                    <!-- Failure Location -->
                                    <m:Label id="_IDGenLabel27" text="Where is the failure occurring?" />
                                    <m:Input id="_IDGenInput21" value="{capaModel>/failure_occurring}" width="100%" placeholder="Enter failure location" />

                                    <!-- Detection Method -->
                                    <m:Label id="_IDGenLabel28" text="How was the failure detected?" />
                                    <m:Input id="_IDGenInput22" value="{capaModel>/failure_detected}" width="100%" placeholder="Enter detection method" />

                                    <!-- Failure Date -->
                                    <m:Label id="_IDGenLabel29" text="When did the failure occur?" />
                                    <m:Input id="_IDGenInput23" value="{capaModel>/failure_occur}" width="100%" placeholder="Enter date/time of failure" />
                                </sf:SimpleForm>
                            </blocks>
                        </ObjectPageSubSection>

                    </subSections>
                </ObjectPageSection>
            </sections>
        </ObjectPageLayout>
        <m:footer>
            <m:OverflowToolbar id="_IDGenOverflowToolbar1">
                <m:ToolbarSpacer id="_IDGenToolbarSpacer12"/>
                <m:Button id="_IDGenButton21" type="Emphasized" icon="sap-icon://close-command-field" text="Prev" press="onNavBack" />
                <m:Button id="_IDGenButton22" type="Accept" icon="sap-icon://save" text="Save" press="onSave" />
                <m:Button id="_IDGenButton26" type="Emphasized" icon="sap-icon://open-command-field" text="Next" press="onNext" />
            </m:OverflowToolbar>
        </m:footer>
    </m:Page>
</mvc:View>
