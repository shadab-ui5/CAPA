<mvc:View controllerName="hodek.capa.controller.Main"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:fb="sap.ui.comp.filterbar"
    xmlns:core="sap.ui.core"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:svm="sap.ui.comp.smartvariants"
    xmlns:smartMultiInput="sap.ui.comp.smartmultiinput"
    xmlns:plugins="sap.m.plugins"
    xmlns:columnmenu="sap.m.table.columnmenu"
    xmlns:sap.ui.fl="sap.ui.fl"
    xmlns:sap.ui.dt="sap.ui.dt"
    xmlns:dnd="sap.ui.core.dnd"
    xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1">
    <Page id="page1" title="{i18n>title}" class="ICTBCustom">
        <f:DynamicPage id="_IDGenDynamicPage2" class="sapUiNoContentPadding" headerExpanded="{/headerExpanded}">
            <f:title>
                <f:DynamicPageTitle id="_IDGenDynamicPageTitle1">

                </f:DynamicPageTitle>
            </f:title>
            <f:header>
                <f:DynamicPageHeader id="_IDGenDynamicPageHeader2" class="myCustomHeader">
                    <f:content>
                        <!-- <Panel id="idPanelRAPO" class="sapUiContentPadding" headerText="General Data" visible="true"> -->
                        <fb:FilterBar id="filterbar" useToolbar="false" search=".onFilterGo" filterChange=".onFilterChange" afterVariantLoad=".onAfterVariantLoad">
                            <fb:filterGroupItems>
                                <fb:FilterGroupItem id="_IDGenFilterGroupItem8" name="Search" label="Search" groupName="Group1" visibleInFilterBar="true">
                                    <fb:control>
                                        <SearchField id="searchField" width="90%" class="" placeholder="Search..." liveChange=".onLiveChange" search=".onSearch" />

                                    </fb:control>
                                </fb:FilterGroupItem>

                                <!-- Accounting Document -->
                                <fb:FilterGroupItem id="FilterGroupItem2" name="Material Number" label="Material Number" groupName="Group1" visibleInFilterBar="true">
                                    <fb:control>
                                        <MultiInput id="idAccountingDocument" width="100%" placeholder="Enter Material Number" showValueHelp="true" valueHelpRequest="onInvoiceValueHelp" submit=".onInvoiceValueSubmit" />
                                    </fb:control>
                                </fb:FilterGroupItem>
                                <!-- Supplier -->
                                <!-- <fb:FilterGroupItem id="FilterGroupItem5" name="ASN" label="ASN" groupName="Group1" visibleInFilterBar="true">
                                    <fb:control>
                                        <MultiInput id="idAsn" showValueHelp="true" valueHelpRequest="onAsnValueHelp" width="75%" placeholder="Select ASN" />
                                    </fb:control>
                                </fb:FilterGroupItem> -->

                                <fb:FilterGroupItem id="FilterGroupItem55" name="Supplier" label="Supplier" groupName="Group1" visibleInFilterBar="true">
                                    <fb:control>
                                        <!-- <MultiInput id="idVendor" showValueHelp="true" valueHelpRequest="onVendorValueHelp" width="75%" placeholder="Select Supplier" /> -->
                                        <ComboBox id="idVendor" selectedKey="" width="100%" items="{
                                        path: 'SupplierModel>/'
                                        }">
                                            <core:Item id="_IDGenItem212" key="{SupplierModel>Supplier}" text="{SupplierModel>Supplier} - {SupplierModel>Suppliername}"/>
                                        </ComboBox>
                                    </fb:control>
                                </fb:FilterGroupItem>
                            </fb:filterGroupItems>
                        </fb:FilterBar>
                    </f:content>
                </f:DynamicPageHeader>
            </f:header>
            <f:content>
                <VBox id="_IDGenVBox">

                    <Table id="persoTable" items="{path: 'getListReport>/'}" ariaLabelledBy="title" fixedLayout="Strict" autoPopinMode="true" growing="true" sticky="ColumnHeaders,HeaderToolbar" popinLayout="GridSmall" growingScrollToLoad="true" growingThreshold="20" updateStarted="onUpdateStartPoHeaderTable" itemPress="onLineItemPress" selectionChange="onSelectionChange">

                        <headerToolbar>
                            <OverflowToolbar>
                                <ToolbarSpacer/>
                            </OverflowToolbar>
                        </headerToolbar>

                        <noData>
                            <IllustratedMessage/>
                        </noData>

                        <!-- Columns aligned with metadata -->
                        <columns>
                            <Column id="colProduct" app:p13nKey="Product_col" width="20%">
                                <header>
                                    <Text text="Material"/>
                                </header>
                            </Column>

                            <Column id="colPurchaseOrder" app:p13nKey="PurchaseOrder_col">
                                <header>
                                    <Text text="Purchasing Document"/>
                                </header>
                            </Column>
                            <Column id="colItem" app:p13nKey="ItemNo_col">
                                <header>
                                    <Text text="Item"/>
                                </header>
                            </Column>
                            <Column id="colInvoiceNo" app:p13nKey="InvoiceNumber_col">
                                <header>
                                    <Text text="Invoice No"/>
                                </header>
                            </Column>
                            <Column id="colInvoiceDate" app:p13nKey="InvoiceDate_col">
                                <header>
                                    <Text text="Invoice Date"/>
                                </header>
                            </Column>
                            <Column id="colASN" app:p13nKey="ASN_No_col">
                                <header>
                                    <Text text="ASN Number"/>
                                </header>
                            </Column>


                            <Column id="colVendor" app:p13nKey="Vendor_col" width="18%">
                                <header>
                                    <Text text="Supplier"/>
                                </header>
                            </Column>



                            <Column id="colMatDoc" app:p13nKey="MaterialDocument_col" visible="false">
                                <header>
                                    <Text text="Material Document"/>
                                </header>
                            </Column>
                        </columns>

                        <items>
                            <ColumnListItem vAlign="Middle" type="Navigation">
                                <cells>
                                    <Text text="{getListReport>MaterialDescription}({getListReport>Product})"/>
                                    <Text text="{getListReport>PurchaseOrder}"/>
                                    <Text text="{getListReport>ItemNo}"/>
                                    <Text text="{getListReport>InvoiceNumber}"/>
                                    <Text text="{path:'getListReport>InvoiceDate', formatter:'.formatter.formatDateToYyyyMmDd'}"/>
                                    <Text text="{getListReport>ASN_No}"/>

                                    <Text text="{getListReport>VendorName}({getListReport>Vendor})"/>


                                    <Text text="{getListReport>MaterialDocument}"/>
                                </cells>
                            </ColumnListItem>
                        </items>
                    </Table>


                </VBox>
            </f:content>
        </f:DynamicPage>
    </Page>
</mvc:View>