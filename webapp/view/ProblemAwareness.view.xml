<mvc:View controllerName="hodek.capa.controller.ProblemAwareness"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns:m="sap.m"
    xmlns:sf="sap.ui.layout.form"
    xmlns:un="sap.ui.unified"
    xmlns="sap.uxap">
    <m:Page id="page2" title="{i18n>title}" class="ICTBCustom" showHeader="true"   navButtonPress="onNavBack" floatingFooter="true" enableScrolling="false">
        <ObjectPageLayout id="ObjectPageLayout" class="sapUiNoContentPadding" upperCaseAnchorBar="false">
            <headerTitle>
                <ObjectPageHeader id="_IDGenObjectPageHeader" objectTitle="8D - PROBLEM RESOLUTION REPORT" objectImageURI="/images/GlobalActionBar.jpg" objectImageShape="Square" objectImageAlt="Company Logo" showTitleSelector="false" showMarkers="false" isObjectIconAlwaysVisible="true">
                    <actions>
                        <m:VBox id="_IDGenVBox1">
                            <m:Text id="_IDGenText" text="Invoice: {selectedModel>/InvoiceNumber}" />
                            <m:Text id="_IDGenText1" text="Material: {selectedModel>/Product}" />
                            <m:Text id="_IDGenText2" text="Supplier: {selectedModel>/VendorName}({selectedModel>/Vendor})"/>
                        </m:VBox>
                    </actions>
                </ObjectPageHeader>
            </headerTitle>
            <sections>
                
                <ObjectPageSection id="secProblemAwareness" title="Problem Awareness" titleUppercase="false">
                    <subSections>
                        <ObjectPageSubSection id="subProblemAwareness" titleUppercase="false">
                            <blocks>
                                <sf:SimpleForm id="formProblemAwareness" editable="true" layout="ResponsiveGridLayout" labelSpanM="3" labelSpanL="2" adjustLabelSpan="false" emptySpanM="1" emptySpanL="1">
                                    <!-- Problem Type (New / Existing / Reopened) -->
                                    <m:Label id="_IDGenLabel11" text="Problem Scope" design="Bold" />
                                    <m:SegmentedButton id="_IDGenSegmentedButton" selectedKey="{capaModel>/problemType}">
                                        <m:items>
                                            <m:SegmentedButtonItem id="_IDGenSegmentedButtonItem" key="New" text="New" />
                                            <m:SegmentedButtonItem id="_IDGenSegmentedButtonItem1" key="Existing" text="Existing" />
                                            <m:SegmentedButtonItem id="_IDGenSegmentedButtonItem2" key="Reopened" text="Reopened" />
                                        </m:items>
                                    </m:SegmentedButton>
                                    <!-- Problem Severity -->
                                    <m:Label id="_IDGenLabel12" text="Problem Severity" design="Bold" />
                                    <m:MultiComboBox id="_IDGenMultiComboBox" selectedKeys="{capaModel>/problemSeverity}">
                                        <m:items>
                                            <core:Item id="_IDGenItem" key="Safety" text="Safety" />
                                            <core:Item id="_IDGenItem1" key="Regulatory" text="Regulatory" />
                                            <core:Item id="_IDGenItem2" key="FitFunctional" text="Fit Functional" />
                                            <core:Item id="_IDGenItem3" key="Aesthetic" text="Aesthetic" />
                                            <core:Item id="_IDGenItem4" key="Reliability" text="Reliability" />
                                            <core:Item id="_IDGenItem5" key="Other" text="Other" />
                                        </m:items>
                                    </m:MultiComboBox>


                                    <!-- Details if any -->
                                    <m:Label id="_IDGenLabel13" text="Details (if any)" design="Bold" />
                                    <m:TextArea id="_IDGenTextArea1" value="{capaModel>/problemDetails}" rows="3" width="100%" />
                                    <!-- Problem Source -->
                                    <m:Label id="_IDGenLabel14" text="Problem Source" design="Bold" />
                                    <m:MultiComboBox id="_IDGenMultiComboBox1" selectedKeys="{capaModel>/problemSource}">
                                        <m:items>
                                            <core:Item id="_IDGenItem6" key="InHouse" text="In-House MFG / Line" />
                                            <core:Item id="_IDGenItem7" key="Supplier" text="Supplier / Incoming" />
                                            <core:Item id="_IDGenItem8" key="Design" text="Design" />
                                            <core:Item id="_IDGenItem9" key="Process" text="Process" />
                                            <core:Item id="_IDGenItem10" key="Material" text="Material" />
                                            <core:Item id="_IDGenItem11" key="Other" text="Other" />
                                        </m:items>
                                    </m:MultiComboBox>

                                    <!-- % Defect -->
                                    <m:Label id="_IDGenLabel15" text="% Defect" design="Bold" />
                                    <m:Input id="_IDGenInput8" value="{capaModel>/percentDefect}" type="Number" />

                                    <!-- Process History / Metrics -->
                                    <m:Label id="_IDGenLabel16" text="Process History  Metrics" design="Bold" />
                                    <m:VBox id="_IDGenVBox2">
                                        <m:HBox id="_IDGenHBox4">
                                            <m:VBox id="_IDGenVBox3" width="20%" class="sapUiTinyMarginEnd">
                                                <m:Label id="_IDGenLabel17" text="PPAP - Ppk" design="Bold" />
                                                <m:Input id="_IDGenInput9" value="{capaModel>/ppapPpk}" />
                                            </m:VBox>
                                            <m:VBox id="_IDGenVBox4" width="20%" class="sapUiTinyMarginEnd">
                                                <m:Label id="_IDGenLabel18" text="RPN Rating" design="Bold" />
                                                <m:Input id="_IDGenInput10" value="{capaModel>/rpnRating}" />
                                            </m:VBox>
                                            <m:VBox id="_IDGenVBox5" width="20%" class="sapUiTinyMarginEnd">
                                                <m:Label id="_IDGenLabel19" text="Present Ppk / Cpk" design="Bold" />
                                                <m:Input id="_IDGenInput11" value="{capaModel>/presentPpkCpk}" />
                                            </m:VBox>
                                            <m:VBox id="_IDGenVBox6" width="20%" class="sapUiTinyMarginEnd">
                                                <m:Label id="_IDGenLabel20" text="Present PPM" design="Bold" />
                                                <m:Input id="_IDGenInput12" value="{capaModel>/presentPpm}" />
                                            </m:VBox>
                                            <m:VBox id="_IDGenVBox7" width="20%" class="sapUiTinyMarginEnd">
                                                <m:Label id="_IDGenLabel21" text="Internal Audit Rating / Score" design="Bold" />
                                                <m:Input id="_IDGenInput13" value="{capaModel>/internalAuditScore}" />
                                            </m:VBox>
                                        </m:HBox>
                                    </m:VBox>

                                    <!-- Free space / Remarks -->
                                    <m:Label id="_IDGenLabel22" text="Remarks" design="Bold" />
                                    <m:TextArea id="_IDGenTextArea2" value="{capaModel>/remarks}" rows="2" width="100%" />

                                </sf:SimpleForm>
                            </blocks>
                        </ObjectPageSubSection>
                    </subSections>
                </ObjectPageSection>
            </sections>
        </ObjectPageLayout>
        <m:footer>
            <m:OverflowToolbar id="_IDGenOverflowToolbar1">
                <m:ToolbarSpacer id="_IDGenToolbarSpacer12"/>
                <m:Button id="_IDGenButton21" type="Emphasized" icon="sap-icon://close-command-field" text="Prev" press="onNavBack" />
                <m:Button id="_IDGenButton22" type="Accept" icon="sap-icon://save" text="Save" press="onSave" />
                <m:Button id="_IDGenButton26" type="Emphasized" icon="sap-icon://open-command-field" text="Next" press="onNext" />
            </m:OverflowToolbar>
        </m:footer>
    </m:Page>
</mvc:View>
