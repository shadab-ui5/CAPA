<mvc:View controllerName="hodek.capa.controller.RootCauseAnalysis"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns:m="sap.m"
    xmlns:sf="sap.ui.layout.form"
    xmlns:un="sap.ui.unified"
    xmlns="sap.uxap">
    <m:Page id="page2" title="{i18n>title}" class="ICTBCustom" showHeader="true"   navButtonPress="onNavBack" floatingFooter="true" enableScrolling="false">
        <ObjectPageLayout id="ObjectPageLayout" class="sapUiNoContentPadding" upperCaseAnchorBar="false">
            <headerTitle>
                <ObjectPageHeader id="_IDGenObjectPageHeader" objectTitle="8D - PROBLEM RESOLUTION REPORT" objectImageURI="/images/GlobalActionBar.jpg" objectImageShape="Square" objectImageAlt="Company Logo" showTitleSelector="false" showMarkers="false" isObjectIconAlwaysVisible="true">
                    <actions>
                        <m:VBox id="_IDGenVBox1">
                            <m:Text id="_IDGenText" text="Invoice: {selectedModel>/InvoiceNumber}" />
                            <m:Text id="_IDGenText1" text="Material: {selectedModel>/Product}" />
                            <m:Text id="_IDGenText2" text="Supplier: {selectedModel>/VendorName}({selectedModel>/Vendor})"/>
                        </m:VBox>
                    </actions>
                </ObjectPageHeader>
            </headerTitle>
            <sections>
                <ObjectPageSection id="secRootCause" title="Root Cause Analysis" titleUppercase="false">
                    <subSections>
                        <!-- 5-Why dynamic table -->
                        <ObjectPageSubSection id="subRootCause2" title="5-Why Analysis">
                            <blocks>
                                <m:VBox id="_IDGenVBox9">
                                    <m:HBox id="_IDGenHBox6" justifyContent="Start" alignItems="Center">
                                        <m:Label id="_IDGenLabel31" class="sapUiSmallMarginEnd" text="Method Used: " design="Bold" />
                                        <m:Select id="_IDGenSelect" selectedKey="{capaModel>/rcaMethod}" width="10rem">
                                            <m:items>
                                                <core:Item id="_IDGenItem12" key="5Why" text="5 Why" />
                                                <core:Item id="_IDGenItem13" key="Fishbone" text="Fishbone / Ishikawa" />
                                            </m:items>
                                        </m:Select>
                                    </m:HBox>
                                    <m:Table id="tbl5Why" items="{capaModel>/fiveWhys}" visible="{= ${capaModel>/rcaMethod} === '5Why' }" inset="false">
                                        <m:headerToolbar>
                                            <m:Toolbar id="_IDGenToolbar3">
                                                <m:Title id="_IDGenTitle1" text="4.1. Preventive ( Occurrence )-  Why did the process make the defect?"/>
                                                <m:ToolbarSpacer id="_IDGenToolbarSpacer2"/>
                                                <m:Button id="_IDGenButton4" icon="sap-icon://add" text="Add Why" press="onAddWhy"/>
                                            </m:Toolbar>
                                        </m:headerToolbar>

                                        <!-- Columns -->
                                        <m:columns>
                                            <m:Column id="_IDGenColumn17" width="6rem">
                                                <m:Text id="_IDGenText22" text="#"/>
                                            </m:Column>
                                            <m:Column id="_IDGenColumn18">
                                                <m:Text id="_IDGenText23" text="Probable Cause"/>
                                            </m:Column>
                                            <m:Column id="_IDGenColumn19">
                                                <m:Text id="_IDGenText24" text="Problem Definition"/>
                                            </m:Column>
                                            <m:Column id="_IDGenColumn20">
                                                <m:Text id="_IDGenText25" text="1 Why?"/>
                                            </m:Column>
                                            <m:Column id="_IDGenColumn21">
                                                <m:Text id="_IDGenText26" text="2 Why?"/>
                                            </m:Column>
                                            <m:Column id="_IDGenColumn22">
                                                <m:Text id="_IDGenText27" text="3 Why?"/>
                                            </m:Column>
                                            <m:Column id="_IDGenColumn23">
                                                <m:Text id="_IDGenText28" text="4 Why?"/>
                                            </m:Column>
                                            <m:Column id="_IDGenColumn24">
                                                <m:Text id="_IDGenText29" text="5 Why?"/>
                                            </m:Column>
                                            <m:Column id="_IDGenColumn25">
                                                <m:Text id="_IDGenText30" text="% Contribution"/>
                                            </m:Column>
                                            <m:Column id="_IDGenColumn26" width="5rem">
                                                <m:Text id="_IDGenText31" text=""/>
                                            </m:Column>
                                        </m:columns>

                                        <!-- Items -->
                                        <m:items>
                                            <m:ColumnListItem id="_IDGenColumnListItem2">
                                                <m:cells>
                                                    <m:Text id="_IDGenText32" text="Cause-{capaModel>stepNumber}"/>
                                                    <m:TextArea id="_IDGenTextArea4" value="{capaModel>cause}" rows="3"/>
                                                    <m:TextArea id="_IDGenTextArea5" value="{capaModel>definition}" rows="3"/>
                                                    <m:TextArea id="_IDGenTextArea6" value="{capaModel>why1}" rows="3"/>
                                                    <m:TextArea id="_IDGenTextArea7" value="{capaModel>why2}" rows="3"/>
                                                    <m:TextArea id="_IDGenTextArea8" value="{capaModel>why3}" rows="3"/>
                                                    <m:TextArea id="_IDGenTextArea9" value="{capaModel>why4}" rows="3"/>
                                                    <m:TextArea id="_IDGenTextArea10" value="{capaModel>why5}" rows="3"/>
                                                    <m:Input id="_IDGenInput28" value="{capaModel>contribution}" type="Number"/>
                                                    <m:Button id="_IDGenButton5" icon="sap-icon://delete" type="Reject" press="onDeleteWhy" visible="{= ${capaModel>/fiveWhys}.length > 1 }"/>
                                                </m:cells>
                                            </m:ColumnListItem>
                                        </m:items>
                                    </m:Table>
                                    <m:Table id="tblfish" items="{capaModel>/fishbone}" inset="false" visible="{= ${capaModel>/rcaMethod} === 'Fishbone' }">
                                        <m:headerToolbar>
                                            <m:Toolbar id="_IDGenToolbar7">
                                                <m:Title id="_IDGenTitle3" text="Fishbone / Ishikawa"/>
                                                <m:ToolbarSpacer id="_IDGenToolbarSpacer11" />
                                                <m:Button id="_IDGenButton17" icon="sap-icon://add" text="Add" press="onAddfish"/>
                                            </m:Toolbar>
                                        </m:headerToolbar>

                                        <!-- Columns -->
                                        <m:columns>
                                            <m:Column id="_IDGenColumn96" width="6rem">
                                                <m:Text id="_IDGenText132" text="#"/>
                                            </m:Column>
                                            <m:Column id="_IDGenColumn97">
                                                <m:Text id="_IDGenText133" text="Man"/>
                                            </m:Column>
                                            <m:Column id="_IDGenColumn98">
                                                <m:Text id="_IDGenText134" text="Machine"/>
                                            </m:Column>
                                            <m:Column id="_IDGenColumn99">
                                                <m:Text id="_IDGenText135" text="Material"/>
                                            </m:Column>
                                            <m:Column id="_IDGenColumn100">
                                                <m:Text id="_IDGenText136" text="Method"/>
                                            </m:Column>
                                            <m:Column id="_IDGenColumn101">
                                                <m:Text id="_IDGenText137" text="Ennvironment"/>
                                            </m:Column>
                                            <m:Column id="_IDGenColumn102">
                                                <m:Text id="_IDGenText138" text="Measurement"/>
                                            </m:Column>
                                            <m:Column id="_IDGenColumn103">

                                            </m:Column>

                                        </m:columns>

                                        <!-- Items -->
                                        <m:items>
                                            <m:ColumnListItem id="_IDGenColumnListItem15">
                                                <m:cells>
                                                    <m:Text id="_IDGenText139" text="Cause-{capaModel>stepNumber}"/>
                                                    <m:TextArea id="_IDGenTextArea22" value="{capaModel>man}" rows="3"/>
                                                    <m:TextArea id="_IDGenTextArea24" value="{capaModel>machine}" rows="3"/>
                                                    <m:TextArea id="_IDGenTextArea25" value="{capaModel>material}" rows="3"/>
                                                    <m:TextArea id="_IDGenTextArea26" value="{capaModel>method}" rows="3"/>
                                                    <m:TextArea id="_IDGenTextArea27" value="{capaModel>environment}" rows="3"/>
                                                    <m:TextArea id="_IDGenTextArea28" value="{capaModel>measurment}" rows="3"/>
                                                    <m:Button id="_IDGenButton221" icon="sap-icon://delete" type="Reject" press="onDeletefish" visible="{= ${capaModel>/fishbone}.length > 1 }"/>
                                                </m:cells>
                                            </m:ColumnListItem>
                                        </m:items>
                                    </m:Table>
                                    <m:Table id="tbl5Why2protect" class="sapUiLargeMarginTop" items="{capaModel>/fiveWhysprotect}" inset="false" visible="{= ${capaModel>/rcaMethod} === '5Why' }">
                                        <m:headerToolbar>
                                            <m:Toolbar id="_IDGenToolbar4">
                                                <m:Title id="_IDGenTitle2" text="4.2. Protect ( Non Detection ) -  Why did the process not detect or contain the defect?"/>
                                                <m:ToolbarSpacer id="_IDGenToolbarSpacer3"/>
                                                <m:Button id="_IDGenButton6" icon="sap-icon://add" text="Add Why" press="onAddWhyProtect"/>
                                            </m:Toolbar>
                                        </m:headerToolbar>

                                        <!-- Columns -->
                                        <m:columns>
                                            <m:Column id="_IDGenColumn27" width="6rem">
                                                <m:Text id="_IDGenText33" text="#"/>
                                            </m:Column>
                                            <m:Column id="_IDGenColumn28">
                                                <m:Text id="_IDGenText34" text="Probable Cause"/>
                                            </m:Column>
                                            <m:Column id="_IDGenColumn29">
                                                <m:Text id="_IDGenText35" text="Problem Definition"/>
                                            </m:Column>
                                            <m:Column id="_IDGenColumn30">
                                                <m:Text id="_IDGenText36" text="1 Why?"/>
                                            </m:Column>
                                            <m:Column id="_IDGenColumn31">
                                                <m:Text id="_IDGenText37" text="2 Why?"/>
                                            </m:Column>
                                            <m:Column id="_IDGenColumn32">
                                                <m:Text id="_IDGenText38" text="3 Why?"/>
                                            </m:Column>
                                            <m:Column id="_IDGenColumn33">
                                                <m:Text id="_IDGenText39" text="4 Why?"/>
                                            </m:Column>
                                            <m:Column id="_IDGenColumn34">
                                                <m:Text id="_IDGenText40" text="5 Why?"/>
                                            </m:Column>
                                            <m:Column id="_IDGenColumn35">
                                                <m:Text id="_IDGenText41" text="% Contribution"/>
                                            </m:Column>
                                            <m:Column id="_IDGenColumn36" width="5rem">
                                                <m:Text id="_IDGenText42" text=""/>
                                            </m:Column>
                                        </m:columns>

                                        <!-- Items -->
                                        <m:items>
                                            <m:ColumnListItem id="_IDGenColumnListItem3">
                                                <m:cells>
                                                    <m:Text id="_IDGenText43" text="Cause-{capaModel>stepNumber}"/>
                                                    <m:TextArea id="_IDGenTextArea11" value="{capaModel>cause}" rows="3"/>
                                                    <m:TextArea id="_IDGenTextArea12" value="{capaModel>definition}" rows="3"/>
                                                    <m:TextArea id="_IDGenTextArea13" value="{capaModel>why1}" rows="3"/>
                                                    <m:TextArea id="_IDGenTextArea14" value="{capaModel>why2}" rows="3"/>
                                                    <m:TextArea id="_IDGenTextArea15" value="{capaModel>why3}" rows="3"/>
                                                    <m:TextArea id="_IDGenTextArea16" value="{capaModel>why4}" rows="3"/>
                                                    <m:TextArea id="_IDGenTextArea17" value="{capaModel>why5}" rows="3"/>
                                                    <m:Input id="_IDGenInput29" value="{capaModel>contribution}" type="Number"/>
                                                    <m:Button id="_IDGenButton7" icon="sap-icon://delete" type="Reject" press="onDeleteWhyprotect" visible="{= ${capaModel>/fiveWhysprotect}.length > 1 }"/>
                                                </m:cells>
                                            </m:ColumnListItem>
                                        </m:items>
                                    </m:Table>
                                </m:VBox>
                            </blocks>
                        </ObjectPageSubSection>
                    </subSections>
                </ObjectPageSection>

            </sections>
        </ObjectPageLayout>
        <m:footer>
            <m:OverflowToolbar id="_IDGenOverflowToolbar1">
                <m:ToolbarSpacer id="_IDGenToolbarSpacer12"/>
                <m:Button id="_IDGenButton21" type="Emphasized" icon="sap-icon://close-command-field" text="Prev" press="onNavBack" />
                <m:Button id="_IDGenButton22" type="Accept" icon="sap-icon://save" text="Save" press="onSave" />
                <m:Button id="_IDGenButton26" type="Emphasized" icon="sap-icon://open-command-field" text="Next" press="onNext" />
            </m:OverflowToolbar>
        </m:footer>
    </m:Page>
</mvc:View>
